---
title: "Descriptive plots Titanic"
author: "Ashutosh Singh"
date: "17 December 2015"
output: html_document
---
```{r}
setwd("C:/Users/my lapy/Desktop/titanic")
library(ggplot2)
new_train = read.csv("new_train.csv")
## overall chances of survival

qplot(Survived,data=new_train,geom="bar")

## Survival chance of male vs female
qplot(Survived,data=new_train,geom="bar",fill=Sex,position="fill")
## To check if conclusion biased
table(new_train$Survived,new_train$Sex)
(81+233)/(468+109)
## Hence likely better chances of survival for female passengers as number of female passengers almost half of male passengers still higher count in survival list


## Survival chance of different lodging places
qplot(Survived,data=new_train,geom="bar",fill=Embarked,position="fill")
## To check if description biased
table(new_train$Survived,new_train$Embarked)
217/(217+421)
30/(30+47)
93/(75+93)
## Hence, S has lowest chance of survival still looks biggest as it has strength of numbers
## Caution : If in any model factors affecting different for different places, s will heavily dominate. So, suggested that cluster according to requirement

## Effect of class on survival rate

new_train$Pclass=as.factor(new_train$Pclass)
qplot(Survived,data=new_train,geom="bar",fill=Pclass,position="fill")

## To check biasdness
table(new_train$Survived,new_train$Pclass)
(80+136)/(80+136+97+87+372+119)
(97+87)/(80+136+97+87+372+119)
(80+136)/(80+136+97+87+372+119)

## Thus 3rd class suffered the most in the tragedy.
new_train$SibSp = as.factor(new_train$SibSp)
qplot(Survived,data=new_train,geom="bar",fill=SibSp,position="fill")
## It appears that having one sibling improves your chances of survival; whereas you are better off alone than having more than one sibling

## let us verify our theory
table(new_train$Survived,new_train$SibSp)
210/398
112/97
(13+4+3+0)/(15+12+15+5+7)
## Thus suggested that creation of a new factor variable with 3 values : no siblings, one sibling and more than one sibling

## Effect of parent/children

new_train$Parch = as.factor(new_train$Parch)

```